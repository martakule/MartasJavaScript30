<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Marta Kule | JavasScript 30</title>
  <link rel="stylesheet" href="style.css">
</head>
<body onresize="iframeHeight()">

<div class="wrapper">

	<header>
		<img src="images/banner.jpg">
    <div class="menu" id="menu">
		  <span class="icon"><img src="images/menu.svg"></span>
		  <span class="word">menu</span>
      <span class="arrow">&#10782;</span>
		  <ul>
		  	<li data-target="00" class="itemSelected">00 intro</li>
		  	<li data-target="01">01 cat music</li>
		  	<li data-target="02">02 clock</li>
        <li data-target="03">03 credits</li>
		  </ul>
    </div>
    <h1><span id="number">00</span><span id="title"> intro</span></h1>
	</header>

	<section>
    <p id="description">Hello world!</p>
		<iframe id="iframe" src="00.html" scrolling="no" onload="iframeHeight()"></iframe>
	</section>

  <section class="credits">

  </section>

</div> <!-- Wrapper div end-->

<script type="text/javascript">

  //document.getElementById('iframe').focus()
//just call .focus() on the iframe element after you click the menu item

// Make iframe responsive
  function iframeHeight() {
    var thisFrame = document.getElementById('iframe');
    if(thisFrame) {
     thisFrame.height = ( thisFrame.contentWindow.document.body.scrollHeight + (thisFrame.contentWindow.document.body.scrollHeight * 0.05) ) + "px";
    }
  }

// Object with menu data
  var titles = {
    "item00":["intro","Hello world!"],
    "item01":["Cat Music","My variation on Wes's original drum kit. To play the meows, tap or click on the tiles or press the corresponding keys on the keyboard. (K is my favourite.)"],
    "item02":["clock","This clock is made entirely of HTML building blocks &mdash; rectangles with some rounded corners. Click on the clock to tell the browser to change the shapes and colours of these rectangles."],
    "item03":["credits","A huge thank you to all these generous artists:"]
  };


// Open and close menu
  document.getElementById("menu").addEventListener("click", function(e) {
    this.classList.toggle("openMenu");
  });

// Make menu items react to clicks
	document.querySelector('.menu ul').addEventListener('click', function (e) {
	  var target = e.target;

// Chanage color of currently selected menu item
		if (target.tagName === 'LI') {
	    e.currentTarget.querySelector('.itemSelected').classList.remove('itemSelected');
	    target.classList.add('itemSelected');
	  }

// Get selected item's data-target
		var currentSelection = target.getAttribute("data-target");
// Load address to iframe and title and description to h1
// Focus iframe
		document.getElementById("iframe").src = currentSelection+".html";
    document.getElementById("number").innerHTML = currentSelection + " ";
    document.getElementById("title").innerHTML = titles["item"+currentSelection][0];
    document.getElementById("description").innerHTML = titles["item"+currentSelection][1];
    document.getElementById("iframe").focus();
	});

</script>

</body>
</html>
