<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="panelContainer">
    <div class="panel p1">
      <p>&#8220;I cook with wine, sometimes</p>
      <p>I</p>
      <p>even add it to the food&#8221;<br>&mdash; W. C. Fields</p>
    </div>
    <div class="panel p2">
      <p>&#8220;There is no sincerer</p>
      <p>love</p>
      <p>than the love of food&#8221;<br>&mdash; George Bernard Shaw</p>
    </div>
    <div class="panel p3">
      <p>&#8220;You can never have enough</p>
      <p>garlic</p>
      <p>With enough garlic,<br>you can eat The New York Times&#8221;<br>&mdash; Morley Safer</p>
    </div>
  </div>

<script type="text/javascript">

  var panels = document.getElementsByClassName("panel");
  var openPanel = document.getElementsByClassName("open");
  var citationShowing = document.getElementsByClassName("show");

  for (var i = 0; i < panels.length; i++) {
// Close another open panel and open the clicked one
    panels[i].addEventListener("click",function(){
      if (openPanel.length>0) {
        openPanel[0].classList.remove("open");
      }
      this.classList.add("open");
    });
// Hide any showing citation and show the clicked one
    panels[i].addEventListener("transitionend",function(e){
      if (e.propertyName.includes("flex")) {
        if (citationShowing.length>0) {
          citationShowing[0].classList.remove("show");
          citationShowing[1].classList.remove("show");
        }
      }
        this.classList.add("show");
    });
  }

</script>

</body>
</html>